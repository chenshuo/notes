<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Call Graphs - Shuo Chen's Notes</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Call Graphs";
        var mkdocs_page_input_path = "kernel/callgraph.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-4PL3B2ZGE8"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-4PL3B2ZGE8');
      </script>
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Shuo Chen's Notes
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../bugs/">Bugs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Kernel</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../study/">Study</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../data-structures/">Data Structures</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../file-descriptor-table/">File Descriptor Table</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../epoll/">Epoll</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Call Graphs</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../reuseport/">SO_REUSEPRT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../profiles/">Profiles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../changes/">Changes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../links/">Links</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Languages</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../lcc/">lcc</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../lua/">Lua</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../git/">Git</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../mem/">Memory Model</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../ssl/">SSL</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../dsp/">DSP</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../links/">Links</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Shuo Chen's Notes</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>Kernel &raquo;</li>
      <li>Call Graphs</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="tcp_sock"><code>tcp_sock</code></h1>
<p><img alt="sock" src="../sock.png" /></p>
<h1 id="tcp_hashinfo"><code>tcp_hashinfo</code></h1>
<pre><code class="language-c">// include/linux/types.h
struct hlist_head {
        struct hlist_node *first;
};

struct hlist_node {
        struct hlist_node *next, **pprev;
};

// include/linux/list_nulls.h
struct hlist_nulls_head {
        struct hlist_nulls_node *first;
};

struct hlist_nulls_node {
        struct hlist_nulls_node *next, **pprev;
};

// include/net/inet_hashtables.h
struct inet_ehash_bucket {
        struct hlist_nulls_head chain;
};

struct inet_bind_hashbucket {
        spinlock_t              lock;  // empty
        struct hlist_head       chain;
};

struct inet_listen_hashbucket {
        spinlock_t              lock;  // empty
        struct hlist_head       head;
};

#define INET_LHTABLE_SIZE       32      /* Yes, really, this is all you need. */

struct inet_hashinfo {
        /* This is for sockets with full identity only.  Sockets here will
         * always be without wildcards and will have the following invariant:
         *
         *          TCP_ESTABLISHED &lt;= sk-&gt;sk_state &lt; TCP_CLOSE
         *
         */
        struct inet_ehash_bucket        *ehash;
        spinlock_t                      *ehash_locks;
        unsigned int                    ehash_mask;
        unsigned int                    ehash_locks_mask;

        /* Ok, let's try this, I give up, we do need a local binding
         * TCP hash as well as the others for fast bind/connect.
         */
        struct inet_bind_hashbucket     *bhash;

        unsigned int                    bhash_size;
        /* 4 bytes hole on 64 bit */

        struct kmem_cache               *bind_bucket_cachep;

        /* All the above members are written once at bootup and
         * never written again _or_ are predominantly read-access.
         *
         * Now align to a new cache line as all the following members
         * might be often dirty.
         */
        /* All sockets in TCP_LISTEN state will be in here.  This is the only
         * table where wildcard'd TCP sockets can exist.  Hash function here
         * is just local port number.
         */
        struct inet_listen_hashbucket   listening_hash[INET_LHTABLE_SIZE]
                                        ____cacheline_aligned_in_smp;
};

</code></pre>
<h1 id="tcp-state-diagram-in-linux-44">TCP state diagram in Linux 4.4+</h1>
<p><img alt="tcp" src="../tcp.png" /></p>
<h1 id="bind"><code>bind</code></h1>
<pre><code class="language-text">sys_bind
  -&gt; inet_bind
    -&gt; inet_csk_get_port
      -&gt; goto have_snum:
      -&gt; goto tb_not_found:  tb == NULL
        -&gt; inet_bind_bucket_create
      -&gt; goto success:
        -&gt; inet_bind_hash
          -&gt; sk_add_bind_node
  -&gt; fput_light
// tcp_hashinfo.bhash -&gt; inet_bind_hashbucket -&gt; inet_bind_bucket[port=2222] -&gt; tcp_sock
</code></pre>
<h1 id="listen"><code>listen</code></h1>
<pre><code class="language-text">sys_listen
  -&gt; inet_listen
    -&gt; inet_csk_listen_start
      -&gt; reqsk_queue_alloc
      -&gt; inet_csk_delack_init
      -&gt; set sk-&gt;sk_state = TCP_LISTEN
      -&gt; inet_csk_get_port
        -&gt; goto have_snum:
        -&gt; goto tb_found:
          -&gt; inet_csk_bind_conflict
        -&gt; goto tb_not_found:  tb != NULL
      -&gt; inet_hash
        -&gt; __inet_hash  // tcp_hashinfo.listening_hash[X] add node
</code></pre>
<p>After bind() and listen()
<img alt="bhash" src="../bhash.png" /></p>
<h1 id="passive-open">Passive open</h1>
<h2 id="receive-syn">Receive SYN</h2>
<pre><code>tcp_v4_rcv
  -&gt; __inet_lookup_skb
    -&gt; __inet_lookup
      -&gt; __inet_lookup_established
      -&gt; __inet_lookup_listener  // found

  -&gt; tcp_v4_do_rcv  // sk_state == TCP_LISTEN
    -&gt; tcp_rcv_state_process
      -&gt; tcp_v4_conn_request  // icsk-&gt;icsk_af_ops-&gt;conn_request
        -&gt; tcp_conn_request
          -&gt; req = inet_reqsk_alloc
            -&gt; reqsk_alloc
               req-&gt;rsk_listener = sk_listener;
            ireq-&gt;ireq_state = TCP_NEW_SYN_RECV;
            ireq-&gt;ireq_family = sk_listener-&gt;sk_family;
          -&gt; tcp_parse_options
          -&gt; tcp_openreq_init
          -&gt; tcp_v4_init_req  // af_ops-&gt;init_req
            -&gt; tcp_v4_save_options
          -&gt; isn = tcp_v4_init_sequence  // af_ops-&gt;init_seq
          -&gt; tcp_v4_route_req  // af_ops-&gt;route_req
            -&gt; inet_csk_route_req
              -&gt; flowi4_init_output
              -&gt; ip_route_output_flow
          -&gt; tcp_ecn_create_request
          -&gt; tcp_openreq_init_rwin
            -&gt; tcp_select_initial_window
          -&gt; tcp_reqsk_record_syn
          -&gt; tcp_try_fastopen
          -&gt; inet_csk_reqsk_queue_hash_add
            -&gt; reqsk_queue_hash_req  //***
              -&gt; inet_ehash_insert
                -&gt; __sk_nulls_add_node_rcu
            -&gt; inet_csk_reqsk_queue_added
              inet_csk(sk)-&gt;icsk_accept_queue.qlen++
          -&gt; tcp_v4_send_synack  // af_ops-&gt;send_synack
            -&gt; tcp_make_synack
            -&gt; __tcp_v4_send_check
            -&gt; ip_build_and_send_pkt
              -&gt; ip_local_out
                -&gt; __ip_local_out
                  -&gt; dst_output
                    -&gt; ip_output
</code></pre>
<p>After receiving SYN
<img alt="syn" src="../syn.png" /></p>
<h2 id="receive-ack">Receive ACK</h2>
<pre><code>tcp_v4_rcv
  -&gt; __inet_lookup_skb
    -&gt; __inet_lookup
      -&gt; __inet_lookup_established  // found tcp_request_sock
  -&gt; sk-&gt;sk_state == TCP_NEW_SYN_RECV
    sk = req-&gt;rsk_listener;
  -&gt; tcp_check_req
    -&gt; tcp_parse_options
      -&gt; tcp_paws_reject
      -&gt; tcp_in_window
    -&gt; tcp_v4_syn_recv_sock  // inet_csk(sk)-&gt;icsk_af_ops-&gt;syn_recv_sock
      -&gt; tcp_create_openreq_child
        -&gt; inet_csk_clone_lock
          -&gt; sk_clone_lock
            -&gt; newsk = sk_prot_alloc  // new tcp_sock
            -&gt; sock_copy
          newsk-&gt;sk_state = TCP_SYN_RECV;
        -&gt; tcp_init_xmit_timers
      -&gt; inet_sk_rx_dst_set
      -&gt; inet_csk_route_child_sock
      -&gt; tcp_ca_openreq_child
        -&gt; tcp_assign_congestion_control
        -&gt; tcp_set_ca_state TCP_CA_Open
      -&gt; tcp_sync_mss -&gt; dst_mtu -&gt; ipv4_mtu
        -&gt; tcp_mtu_to_mss
        -&gt; tcp_bound_to_half_wnd
      -&gt; dst_metric_advmss -&gt; ipv4_default_advmss
      -&gt; tcp_initialize_rcv_mss
      -&gt; __inet_inherit_port
        -&gt; inet_bind_hash  // put newsk in bind_bucket
        inet_csk(sk)-&gt;icsk_bind_hash = tb;
      -&gt; inet_ehash_nolisten
        -&gt; inet_ehash_insert(newsk, reqsk)
          -&gt; sk_nulls_del_node_init_rcu(osk)
          -&gt; __sk_nulls_add_node_rcu(sk, list)
        -&gt; sock_prot_inuse_add
      -&gt; tcp_move_syn
    -&gt; sock_rps_save_rxhash
    -&gt; tcp_synack_rtt_meas
      -&gt; skb_mstamp_us_delta
      -&gt; tcp_ack_update_rtt
        -&gt; tcp_update_rtt_min
        -&gt; tcp_rtt_estimator
        -&gt; tcp_set_rto
    -&gt; inet_csk_complete_hashdance
      -&gt; inet_csk_reqsk_queue_drop
        -&gt; reqsk_queue_unlink
          -&gt; reqsk_put(req)
          return found(false)
      -&gt; reqsk_queue_removed
        &amp;inet_csk(sk)-&gt;icsk_accept_queue.qlen--
      -&gt; inet_csk_reqsk_queue_add
        queue-&gt;rskq_accept_head = req  // first
        -&gt; sk_acceptq_added
          sk-&gt;sk_ack_backlog++;  // listen_sk
  -&gt; tcp_child_process
    -&gt; tcp_rcv_state_process(child, skb)
      -&gt; tcp_validate_incoming
      -&gt; tcp_ack
        -&gt; tcp_ack_update_window
        -&gt; tcp_ecn_rcv_ecn_echo  // false
        -&gt; tcp_in_ack_event
        return 1
      switch(sk_state) case TCP_SYN_RECV:
      -&gt; inet_sk_rebuild_header  // icsk-&gt;icsk_af_ops-&gt;rebuild_header
      -&gt; tcp_init_congestion_control
      -&gt; tcp_mtup_init
      -&gt; tcp_init_buffer_space
        -&gt; tcp_fixup_rcvbuf
        -&gt; tcp_sndbuf_expand
        -&gt; tcp_full_space
      tcp_set_state(sk, TCP_ESTABLISHED)
      sk-&gt;sk_state_change -&gt; sock_def_wakeup
      -&gt; tcp_init_metrics
      -&gt; tcp_update_pacing_rate
      -&gt; tcp_initialize_rcv_mss
      -&gt; tcp_fast_path_on
      // out of switch
      -&gt; tcp_urg
      switch TCP_ESTABLISHED
        -&gt; tcp_data_queue
      -&gt; tcp_data_snd_check
      -&gt; tcp_ack_snd_check
    -&gt; parent-&gt;sk_data_ready -&gt; sock_def_readable -&gt; wake_up_interruptible_sync_poll
</code></pre>
<p>After receiving ACK
<img alt="ack" src="../ack.png" /></p>
<h1 id="active-open">Active open</h1>
<h2 id="connect">connect</h2>
<pre><code class="language-text">sys_connect
  -&gt; inet_stream_connect -&gt; __inet_stream_connect
    -&gt; tcp_v4_connect (sk-&gt;sk_prot-&gt;connect)
      -&gt; ip_route_connect
      tcp_set_state(sk, TCP_SYN_SENT)
      -&gt; inet_hash_connect
        -&gt; port_offset = inet_sk_port_offset(sk)
          -&gt; secure_ipv4_port_ephemeral(saddr, daddr, dport)
            -&gt; md5_transform
        -&gt; __inet_hash_connect(..., port_offset, __inet_check_established)
          static uint32_t hint // counter
          -&gt; inet_get_local_port_range
          -&gt; inet_bind_bucket_create
          -&gt; inet_bind_hash
            -&gt; sk_add_bind_node
          -&gt; inet_ehash_nolisten
            -&gt; inet_ehash_insert
              -&gt; sk_ehashfn
                -&gt; inet_ehashfn
                  -&gt; __inet_ehashfn
                    -&gt; jhash_3words
            -&gt; sock_prot_inuse_add
      -&gt; ip_route_newports
        -&gt; ip_route_output_flow
      -&gt; secure_tcp_sequence_number(saddr, daddr, sport, dport)
        -&gt; md5_transform
      -&gt; tcp_connect
        -&gt; tcp_connect_init
        -&gt; sk_stream_alloc_skb
        -&gt; tcp_init_nondata_skb
        -&gt; tcp_connect_queue_skb
        -&gt; tcp_ecn_send_syn
        -&gt; tcp_transmit_skb
          -&gt; tcp_options_size = tcp_syn_options
          tcp_header_size = tcp_options_size + sizeof(struct tcphdr);
          -&gt; skb_push(skb, tcp_header_size)
          -&gt; skb_reset_transport_header
          -&gt; skb_orphan
          skb-&gt;destructor = tcp_wfree;
          -&gt; tcp_options_write
          -&gt; tcp_v4_send_check (icsk-&gt;icsk_af_ops-&gt;send_check)
            -&gt; __tcp_v4_send_check
              skb-&gt;ip_summed == CHECKSUM_PARTIAL
          -&gt; ip_queue_xmit (icsk-&gt;icsk_af_ops-&gt;queue_xmit)
            -&gt; skb_push
            -&gt; skb_reset_network_header
            iph-&gt;frag_off = htons(IP_DF);
            -&gt; ip_copy_addrs
            -&gt; ip_select_ident_segs
            -&gt; ip_local_out
              -&gt; __ip_local_out
                -&gt; ip_send_check
                  -&gt; ip_fast_csum
                -&gt; nf_hook { return 1; }
              -&gt; dst_output
                -&gt; ip_output (skb_dst(skb)-&gt;output)
        -&gt; inet_csk_reset_xmit_timer
    sock-&gt;state = SS_CONNECTING;
    err = -EINPROGRESS;
    timeo = sock_sndtimeo() // NULL
    return err
</code></pre>
<p>After <code>connect()</code>
<img alt="ehash" src="../ehash.png" /></p>
<h2 id="receive-synack">Receive SYN+ACK</h2>
<pre><code class="language-text">tcp_v4_rcv
  -&gt; __inet_lookup_skb
    -&gt; __inet_lookup
      -&gt; __inet_lookup_established  // found
  -&gt; tcp_v4_do_rcv  // sk_state == TCP_SYN_SENT
    -&gt; tcp_rcv_state_process
      case TCP_SYN_SENT:
      -&gt; tcp_rcv_synsent_state_process
        -&gt; tcp_parse_options
        if (th-&gt;ack)  // true
        -&gt; tcp_ecn_rcv_synack
        -&gt; tcp_init_wl
        -&gt; tcp_ack(FLAG_SLOWPATH)
          // FLAG_SLOWPATH
          -&gt; tcp_ack_update_window
            -&gt; tcp_may_update_window  // true
            -&gt; tcp_update_wln
            -&gt; tcp_fast_path_check
            -&gt; tcp_sync_mss
            -&gt; tcp_snd_una_update
          -&gt; tcp_ecn_rcv_ecn_echo  // false
          -&gt; tcp_in_ack_event
          -&gt; tcp_clean_rtx_queue
            -&gt; tcp_ack_update_rtt
            -&gt; tcp_rearm_rto
          -&gt; tcp_rate_gen
          -&gt; tcp_cong_control
          -&gt; tcp_xmit_recovery
        -&gt; tcp_mtup_init
        -&gt; tcp_sync_mss
        -&gt; tcp_initialize_rcv_mss
        -&gt; tcp_finish_connect
          -&gt; tcp_set_state(sk, TCP_ESTABLISHED);
          -&gt; inet_sk_rx_dst_set (icsk-&gt;icsk_af_ops-&gt;sk_rx_dst_set)
          -&gt; inet_sk_rebuild_header (icsk-&gt;icsk_af_ops-&gt;rebuild_header)
          -&gt; tcp_init_metrics
          -&gt; tcp_init_congestion_control
          -&gt; tcp_init_buffer_space
            -&gt; tcp_fixup_rcvbuf
            -&gt; tcp_sndbuf_expand
            -&gt; tcp_full_space
        -&gt; tcp_send_ack
          -&gt; skb_reserve
          -&gt; tcp_init_nondata_skb
          -&gt; skb_set_tcp_pure_ack
          -&gt; skb_mstamp_get
          -&gt; tcp_transmit_skb
            -&gt; tcp_options_size = tcp_established_options  // 12
            ...
      -&gt; tcp_urg
      -&gt; __kfree_skb
      -&gt; tcp_data_snd_check
      return 0;
</code></pre>
<h1 id="accept">accept</h1>
<pre><code class="language-text">sys_accept4
  -&gt; newsock = sock_alloc
  -&gt; newfd = get_unused_fd_flags
  -&gt; newfile = sock_alloc_file(newsock, ...)
  -&gt; inet_accept (sock-&gt;ops-&gt;accept)
    -&gt; sk2 = inet_csk_accept (sk1-&gt;sk_prot-&gt;accept)
      queue = &amp;icsk-&gt;icsk_accept_queue;
      req = reqsk_queue_remove(queue, sk);
        req = queue-&gt;rskq_accept_head;
        -&gt; sk_acceptq_removed(parent);  // sk-&gt;sk_ack_backlog--;
      newsk = req-&gt;sk
      -&gt; release_sock(sk)
      -&gt; reqsk_put(req) -&gt; reqsk_free
      return newsk
    -&gt; sock_graft(sk2, newsock)
  -&gt; fd_install(newfd, newfile)
</code></pre>
<h1 id="read">read</h1>
<h1 id="write">write</h1>
<pre><code class="language-text">do_syscall_64 -&gt; __x64_sys_write -&gt; ksys_write -&gt; vfs_write -&gt; __vfs_write -&gt; new_sync_write
  -&gt; sock_write_iter -&gt; sock_sendmsg -&gt; inet_sendmsg -&gt; tcp_sendmsg
  -&gt; tcp_sendmsg_locked -&gt; tcp_push_one -&gt; tcp_write_xmit

tcp_sendmsg_locked -&gt; __tcp_push_pending_frames -&gt; tcp_write_xmit
tcp_sendmsg_locked -&gt; tcp_push -&gt; __tcp_push_pending_frames -&gt; tcp_write_xmit
</code></pre>
<h1 id="receive">Receive</h1>
<pre><code class="language-text">net_rx_action -&gt; napi_poll -&gt; mlx4_en_poll_rx_cq -&gt; napi_complete_done -&gt; gro_normal_list
  -&gt; netif_receive_skb_list_internal -&gt; __netif_receive_skb_list -&gt; __netif_receive_skb_list_core
  -&gt; __netif_receive_skb_list_ptype
  -&gt; ip_list_rcv -&gt; ip_sublist_rcv -&gt; ip_list_rcv_finish -&gt; ip_sublist_rcv_finish -&gt; dst_input
  -&gt; ip_local_deliver -&gt; NF_HOOK -&gt; ip_local_deliver_finish -&gt; ip_protocol_deliver_rcu -&gt; tcp_v4_rcv

netif_receive_skb -&gt; __netif_receive_skb -&gt; __netif_receive_skb_one_core -&gt; ip_rcv_finish_core
  -&gt; ip_rcv -&gt; ip_rcv_finish -&gt; ip_protocol_deliver_rcu -&gt; ip_local_deliver -&gt; ip_local_deliver_finish
  -&gt; ip_protocol_deliver_rcu _&gt; tcp_v4_rcv
</code></pre>
<h1 id="transmit">transmit</h1>
<pre><code class="language-text">tcp_v4_rcv -&gt; tcp_v4_do_rcv -&gt; tcp_rcv_established -&gt; __tcp_push_pending_frames -&gt; tcp_write_xmit

tcp_write_xmit -&gt; tcp_transmit_skb -&gt; __tcp_transmit_skb -&gt; ip_queue_xmit -&gt; __ip_queue_xmit -&gt; ip_local_out
  -&gt; __ip_local_out -&gt; ip_output
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../epoll/" class="btn btn-neutral float-left" title="Epoll"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../reuseport/" class="btn btn-neutral float-right" title="SO_REUSEPRT">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../epoll/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../reuseport/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
